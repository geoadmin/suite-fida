<div *ngIf="!readonly" [formGroup]="formGroup" class="error-text-container">

    <!-- value -->
    <div [ngSwitch]="type">

        <!-- domain value -->
        <div *ngSwitchCase="'domain'">
            <select formControlName="valueControl" [(ngModel)]="feature?.attributes[formControlName]"
                [name]="formControlName" [placeholder]="placeholder" class="form-control">
                <option *ngFor="let codedValue of codedValues" [ngValue]="codedValue.code"
                    [selected]="codedValue.code === feature?.attributes[formControlName]">
                    {{ codedValue.name }}
                </option>
            </select>
        </div>

        <!-- date value -->
        <div *ngSwitchCase="'date'">
            <input type="text" class="form-control" formControlName="valueControl" [name]="formControlName" bsDatepicker
                [(ngModel)]="date" (change)="onDateChanged($event)" (bsValueChange)="onDateChanged($event)"
                [bsConfig]="{ adaptivePosition: true }">
        </div>

        <!-- number value -->
        <div *ngSwitchCase="'number'">
            <input type="number" class="form-control text-right" formControlName="valueControl" [name]="formControlName"
                [placeholder]="placeholder" [(ngModel)]="feature?.attributes[formControlName]">
        </div>

        <!-- textarea value -->
        <div *ngSwitchCase="'textarea'">
            <textarea class="form-control" formControlName="valueControl" rows="3" [name]="formControlName"
                [placeholder]="placeholder" [(ngModel)]="feature?.attributes[formControlName]"></textarea>
        </div>

        <!-- default value -->
        <div *ngSwitchDefault>
            <input type="text" class="form-control" formControlName="valueControl" [name]="formControlName"
                [placeholder]="placeholder" [(ngModel)]="feature?.attributes[formControlName]">
        </div>
    </div>

    <!-- validation -->
    <div class="error-text" *ngIf="formGroup.controls.valueControl.errors?.required" style="width: 130px;">
        Value is required.
    </div>
    <div class="error-text" *ngIf="formGroup.controls.valueControl.errors?.maxlength" style="width: 325px;">
        Value cannot contain more than {{ field?.length }} characters.
    </div>
</div>

<!-- readonly -->
<app-attribute-value-view *ngIf="readonly" [feature]="feature" [name]="formControlName"></app-attribute-value-view>